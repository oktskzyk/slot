<!DOCTYPE html>
<html lang="zh-hk">
<head>
  <title>隨機意見書產生器</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body style="color: #fff; background-color: #333;">
  <div class="container" style="padding-top:2em;">
    <div class="row">
      <div class="col-md-3 col-md-push-9">
        <h1>樣本樣本樣本樣本樣本樣本樣本</h1>
        <h2>意見書隨機產生器</h2>
      </div>
      <div class="col-md-9 col-md-pull-3">
        <div class="row">
          <div class="col-md-12">
            <textarea id="result" class="form-control" rows="20" style="color: #fff; background-color: #555;"></textarea>
          </div>
        </div>
        <div class="row" style="padding-top:2em; padding-bottom:5em;">
          <div class="col-md-12">
            <div class="form-inline">
              <div class="form-group">
                <label class="sr-only" for="exampleInputAmount">Amount (in dollars)</label>
                <div class="input-group">
                  <div class="input-group-addon">段數</div>
                  <input type="number" id="count" class="form-control" value="3" min="1" max="6"></input>
                </div>
              </div>
              <button class="btn btn-default" onclick="$('#result').val(getRandomTextString($('#count').val())); return false;">新意見書</button>
              <button class="btn btn-danger" onclick="openGmail(); return false;">以 Gmail 寄出</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
  <script>
    function getRandomTextString(count) {
      var corpus = ['我，後來怎樣她們干涉了你，許是懺悔，但我不僅不能盡我的責任，小馬，這次我再來歐洲你已經早一個星期回去，許是懺悔，講給我聽你得小提琴的故事：怎樣那晚上買琴來的時候你已經在你的小床上睡好，我只是悵惘，就這悲哀的人生也是因人差異，你可以拿一條這邊顏色的長巾包在你的頭上，打攪你的清聽！', '禁止成長，她說，未來的三到五年，而這正是為什麼西方公司會存活，而對上班族來說明天要開始上班了，總是精力充沛，老實講，盡我們所能，你說這個產品只是為了台灣市場打造，但最後看起來以結果而言似乎沒什麼差別；他依然選擇離開妳，你們是怎麼認識的，而他們又反過來影響政府政策，感覺怎麼樣？', '勸進不斷，流感病毒攻心，兩會前夕，店家：師大走味，力挺反對派，三星在台要搶筆電市佔率雙A，微軟發表12吋高效能Surface，系列手機，的地震嗎？', '他們偏不採用，正可養成競爭心，他倆不知立的什麼地方，究竟為的是什麼，輕輕放棄，同在這顆地球上，把孩子們和一條香龍，他叩了不少下頭，一寸光陰一寸金，橋柱是否有傾斜，說得很高興似的。', '你的心地會看著澄藍的天空靜定，同時她們講你生前的故事，何嘗不赤心的愛我；但他們的愛卻正是造成我痛苦的原因；我自己也何嘗不篤愛我的親親，此外還有不少趣話，雲彩裡，這樣的玩頂好是不要約伴，一起安眠。', '感謝園主，營建業結合電信商，Sony，三星在台要搶筆電市佔率雙A，在春風裏失去一代散文大師，慣竊黑吃黑，追瘦肉精，慣竊黑吃黑，7年級生罹骨質疏鬆，營建業結合電信商，台紐政府基金，《航運股》威航推網路活動，爭取台灣十大觀光小城，力挺反對派，Fridays法樂琪，要予以強有力報復。', '也是生活上一種餘興，且中曆我也在書本上，日月星辰是天空的附屬物的時代，非意識地復閉上了眼皮；一瞬之後，在無限空間發生響應，錢立地就成富豪勢力家，便說這卑怯的生命，怎地所說的一週會不同？', '每天重複在同個地點，一步步想念，閉上眼，但有誰會看見獨處的時候，你的笑只是你穿的保護色你值得真正的快樂你應該脫下你穿的保護色你值得真正的快樂，哭著，眼前的模樣開了燈，一直到老了一步步曾經，山頂上的光那，知走一光年，然後留下，笑起來處子般通紅；看人突然好想你，會走到什麼地方？', '流，也把你的影像，為什麼我對自身的血肉，你一個人漫遊的時候，在這不自然的世界上，你的父親，他們的意義是永遠明顯的，怎樣你這小機靈早已看見，大大記得最清楚，明知是自苦的揶揄，同在一個音波裡起伏，可愛的小彼得，但她在她同樣不幸的境遇中證明她的智斷，陽光的和暖與花草的美麗，她多疼你！', '公家機關和企業延至10時才上班，好可愛，變調情人節，眼明手快，65萬人大考，一直按重播，【更多鴨鴨資訊在這裡】鴨鴨復活了，上月失業率4.18，泰美女總理盈拉，如果你曾做過類似的事，我可以自豪地說，你們還記得她嗎？']
      var randomSize = count * 10;
      var randomIndexes = [];
      var outString = "";
      var trueRandom= new Uint32Array(randomSize);
      var cryptoObj = window.crypto || window.msCrypto; 
      cryptoObj.getRandomValues(trueRandom);
      while ((randomIndexes.length < count) && (randomSize >= 0)){
        randomSize--;
        randomnumber = trueRandom[randomSize] % corpus.length;
        var found=false;
        for(var i=0;i<randomIndexes.length;i++){
          if(randomIndexes[i]==randomnumber){found=true;break;}
        }
        if(!found)randomIndexes[randomIndexes.length]=randomnumber;
      }
      for (var i = 0; i < count; i++) {
       outString = outString + corpus[randomIndexes[i]] + "\n\n";
      }
      return outString;
    }
    $('#result').val(getRandomTextString(3));

    function openGmail() {
      window.open(encodeURI("https://mail.google.com/mail/?view=cm&ui=2&tf=0&fs=1&to=dllm689@ceo.gov.hk&su=dllm689&body="+$('#result').val()));
    }
  </script>
</body>
</html>
